{% extends 'base.html.twig' %}
{% block title %}Modifier le mot de passe | Aura{% endblock %}

{% block styles %}
    <style>
        .page-container{max-width:1100px;margin:24px auto;padding:0 16px}
        .page-title{margin:0 0 16px}
        .section{background:#fff;border:1px solid #eee;border-radius:16px;padding:16px;margin-bottom:16px}

        .flash{padding:10px 12px;border-radius:10px;margin:10px 0}
        .flash.success{background:#e6f4ea;color:#146c43}
        .flash.error{background:#fde2e1;color:#a12622}
        .flash.info{background:#eef0f2;color:#333}

        .form-grid{display:grid;grid-template-columns:1fr;gap:12px;max-width:520px}
        .field label{display:block;margin:0 0 6px;font-weight:600}
        .field input{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:15px;background:#fff}
        .actions{margin-top:8px}

        .btn{display:inline-flex;align-items:center;justify-content:center;border-radius:10px;padding:10px 14px;
            font-weight:700;border:1px solid #000;background:#000;color:#fff;cursor:pointer;text-decoration:none}

        @media (max-width:640px){
            .page-container{margin:16px auto;padding:0 12px}
            .section{padding:12px;margin-bottom:12px}
        }
    </style>
{% endblock %}

{% block body %}
    <div class="page-container">

        {# Flashes #}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="flash {{ label == 'success' ? 'success' : (label == 'error' ? 'error' : 'info') }}">{{ message }}</div>
            {% endfor %}
        {% endfor %}

        <h1 class="page-title">Modifier le mot de passe</h1>

        <div class="section">
            <form class="form-grid" method="post" action="{{ path('app_profile_password') }}" autocomplete="off">
                <div class="field">
                    <label for="old_password">Ancien mot de passe :</label>
                    <input id="old_password" name="old_password" type="password" required autocomplete="current-password">
                </div>

                <div class="field">
                    <label for="new_password">Nouveau mot de passe :</label>
                    <input id="new_password" name="new_password" type="password" required minlength="8" autocomplete="new-password">
                </div>

                <div class="field">
                    <label for="confirm_password">Confirmer le mot de passe :</label>
                    <input id="confirm_password" name="confirm_password" type="password" required minlength="8" autocomplete="new-password">
                </div>

                <div class="actions">
                    <button type="submit" class="btn">Mettre Ã  jour</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
