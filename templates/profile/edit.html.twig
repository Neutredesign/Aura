{% extends 'base.html.twig' %}
{% block title %}Modifier mes informations | Aura{% endblock %}

{% block body %}
    <style>
        .profile-edit { display:flex; flex-direction:column; gap:24px; max-width:720px; margin:0 auto; }
        .avatar-preview {
            width:120px; height:120px; border-radius:50%; border:1px solid #ddd;
            object-fit:cover; background:#f9f9f9;
        }
        .form-fields { display:grid; gap:16px; max-width:400px; }
        .btn { border:1px solid #222; padding:8px 14px; border-radius:8px; cursor:pointer; background:#222; color:#fff; }
        .btn.secondary { background:#fff; color:#222; border-color:#ccc; }
    </style>

    <h1>Modifier mes informations</h1>

    <div class="profile-edit">
        <div>
            <img
                src="{{ user.avatarUrl ? asset(user.avatarUrl) : asset('images/avatar-silhouette.png') }}"
                alt="Photo de profil"
                class="avatar-preview"
            >
        </div>

        {{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}
        <div class="form-fields">
            {{ form_row(form.username) }}
            {{ form_row(form.avatarFile) }}
        </div>
        <div style="margin-top:16px;">
            <button class="btn" type="submit">Enregistrer</button>
            <a href="{{ path('app_profile') }}" class="btn secondary">Annuler</a>
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
